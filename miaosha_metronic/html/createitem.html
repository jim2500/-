<html>
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="static/assets/global/plugins/bootstrap/css/bootstrap.min.css" type="text/css"/>
		<link rel="stylesheet" href="static/assets/global/css/components.css" type="text/css">
		<link rel="stylesheet" href="static/assets/admin/pages/css/login.css" type="text/css">
		<script src="static/assets/global/plugins/jquery-1.11.0.min.js" type="text/javascript">
			
		</script>
	</head>

	<body class="login">
		<div class="content">
			<h3 class="form-title">创建商品</h3>
			<div class="form-group">
				<label class="control-label">商品名</label>
				<div>
					<input class="form-control" type="text" placeholder="商品名" name="title" id="title">
				</div>
			</div>
			<div class="form-group">
				<label class="control-label">商品描述</label>
				<div>
					<input class="form-control" type="text" placeholder="商品描述" name="description" id="description">
				</div>
			</div>
			<div class="form-group">
				<label class="control-label">价格</label>
				<div>
					<input class="form-control" type="text" placeholder="价格" name="price" id="price">
				</div>
			</div>
			<div class="form-group">
				<label class="control-label">图片</label>
				<div>
					<input class="form-control" type="text" placeholder="图片" name="imgUrl" id="imgUrl">
				</div>
			</div>
			<div class="form-group">
				<label class="control-label">库存</label>
				<div>
					<input class="form-control" type="text" placeholder="库存" name="stock" id="stock">
				</div>
			</div>
			
			
			<div class="form-actions">
				<button class="btn blue" id="create" type="submit">
					提交创建
				</button>
			</div>
		</div>
	</body>
	<script>
		jQuery(document).ready(function(){
			//绑定otp的click时间用于向后端发送获取手机验证码的请求
			$("#create").on("click",function(){
				var title = $("#title").val();
				var description = $("#description").val();
				var price = $("#price").val();
				var imgUrl = $("#imgUrl").val();
				var stock = $("#stock").val();
				

				if(title == null || title == ""){
					alert("商品名不能为空");
					return false;
				}
				if(description == null || description == ""){
					alert("商品描述不能为空");
					return false;
				}
				if(price == null || price == ""){
					alert("价格不能为空");
					return false;
				}
				if(imgUrl == null || imgUrl == ""){
					alert("图片不能为空");
					return false;
				}
				if(stock == null || stock == ""){
					alert("库存不能为空");
					return false;
				}
				

				$.ajax({
					//请求头
					type:"POST",
					contentType:"application/x-www-form-urlencoded",
					url:"http://localhost:8090/item/create",
					
					//传参
					data:{
						"title":$("#title").val(),
						"description":description,
						"price":price,
						"imgUrl":imgUrl,
						"stock":stock
					},

					//允许跨域授信请求
					xhrFields:{withCredentials:true},

					//两个回调，请求成功和请求失败
					success:function(data){
						if(data.status == "success"){
							alert("创建成功");
						}else{
							alert("创建失败，原因是"+data.data.errMsg);
						}
					},
					error:function(data){
						alert("创建失败，原因是"+data.responseText);
					}
				});
				return false;
			});
		});
	</script>
</html>

<!--
<!DOCTYPE html>
<html>
<head>
	<title>单词检测结果</title>
	<meta charset="UTF-8">
		<script src="static/assets/global/plugins/jquery-1.11.0.min.js" type="text/javascript">
			
		</script>
</head>
<body>
	<div>
			<h3>获取otp信息</h3>
			<div>
				<label>手机号</label>
				<div>
					<input type="text" placeholder="手机号" name="telphone" id="telphone">
				</div>
			</div>
			<div>
				<button id="getotp1" type="submit">
					获取otp短信
				</button>
			</div>
		</div>
	<div class="bgc">
		 <img src="images/mybackground.png">

		<span class="bgc-Voice"><b><i>AI检测结果</i></b></span>
		<span class="bgc-user">user</span>
		<a href="">
		<span class="bgc-modify">修改用户</span>
		<span class="bgc-delete">安全退出</span>
		<span class="bgc-yuanshi">原始序列：</span>
		<span class="bgc-jiance">检测序列：</span>
		<span class="bgc-jiucuo">纠错意见：</span>
		</a>
	</div>
    	<div class="box">
		
		<textarea id="box-text1" rows="10" cols="30">1</textarea>
		<textarea id="box-text2" rows="10" cols="30">2</textarea>
		<textarea id="box-text3" rows="10" cols="30">3</textarea>
    </div>
</body>
<script>
    jQuery(document).ready(function(){
        //绑定otp的click时间用于向后端发送获取手机验证码的请求
        $("#getotp1").on("click",function(){
        	var telphone = $("#telphone").val();
				if(telphone == null || telphone == ""){
					alert("手机号不能为空");
					return false;
				}
            $.ajax({
                //请求头
                type:"POST",
                contentType:"application/x-www-form-urlencoded",
                url:"http://localhost:8090/user/getotp",
                //url:"https://order-app1.firebaseio.com/",

                //传参
                data:{
                    "telphone":$("#telphone").val(),
				},

				//两个回调，请求成功和请求失败
				success:function(data){
					document.getElementById('box-text1').value = data.status;
					document.getElementById('box-text2').value = data.status;
					document.getElementById('box-text3').value = data.status;
					if(data.status == "success"){
							alert("otp已经发送到您的手机上，请注意查收");
						}else{
							alert("otp发送失败，原因是"+data.data.errMsg);
						}
				},

					// $("#a").text(data.status);	
					// $("#b").text(data.status);
					// $("#c").text(data.status);
				
				error:function(data){
					alert("otp发送失败，原因为"+data.responseText);
				}
			});
		return false;
    	});
    });

</script>
</html>
-->